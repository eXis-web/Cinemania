var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},t={},i=n.parcelRequired7c6;null==i&&((i=function(n){if(n in e)return e[n].exports;if(n in t){var i=t[n];delete t[n];var s={id:n,exports:{}};return e[n]=s,i.call(s.exports,s,s.exports),s.exports}var a=new Error("Cannot find module '"+n+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(n,e){t[n]=e},n.parcelRequired7c6=i),i("bUb57"),i("8FnLx"),i("eEHR3");var s=i("ffJBb"),a=i("aNFDY"),o=i("2ZOXv");var r=i("kICWm");function c(n){if("DIV"!==n.target.nodeName)return;const e=n.target.getAttribute("id");(0,r.openModalMovieDetails)(e)}s=i("ffJBb"),o=i("2ZOXv");function l(n,e){const t=localStorage.getItem("library");if(t){return JSON.parse(t).find((n=>n.id===e))?`<button type="button" data-remove-from-library-btn-upcoming class="${n}">Remove from library</button>`:`<button type="button" data-add-to-library-btn-upcoming class="${n}">Add to library</button>`}return`<button type="button" data-add-to-library-btn-upcoming class="${n}">Add to library</button>`}function d({backdrop_path:n,title:e,genre_ids:t,overview:i,popularity:s,poster_path:a,release_date:r,vote_average:c,vote_count:d,id:u}){const p=(0,o.getGenresByGenresId)(t).join(", ");return` <picture>\n      <source\n        srcset="https://image.tmdb.org/t/p/original/${n}"\n        media="(min-width:1280px)"\n      />\n      <source\n        srcset="https://image.tmdb.org/t/p/original/${n}"\n        media="(min-width:768px)"\n      />\n      <source\n        srcset="https://image.tmdb.org/t/p/original/${a}"\n        media="(min-width:320px)"\n      />\n      <img\n        class="upcoming-movie-img"\n        src="https://image.tmdb.org/t/p/original/${a}"\n        alt="${e}"\n      />\n    </picture>\n    \n    <div class="upcoming-column">\n      <h2 class="upcoming-headline">${e}</h2>\n      <div class="upcoming-wrap">\n        <div class="upcoming-inner-wrap">\n          <div class="upcoming-wrapper upcoming-wrapper-gap">\n            <ul class="upcoming-list">\n              <li class="upcoming-item-data">\n                <p class="upcoming-subject">Release date</p>\n              </li>\n              <li class="upcoming-item-data-num">\n                <p class="upcoming-date">${r.split("-").reverse().join(".")}</p>\n              </li>\n            </ul>\n    \n            <ul class="upcoming-list">\n              <li class="upcoming-item-vote">\n                <p class="upcoming-subject">Vote / Votes</p>\n              </li>\n              <li class="upcoming-item-vote-num">\n                <p class="upcoming-vote">\n                  <span class="upcoming-inner-box">${c}</span>\n                  <span class="upcoming-inner-color">/</span>\n                  <span class="upcoming-inner-box-votes">${d}</span>\n                </p>\n              </li>\n            </ul>\n          </div>\n          <div class="upcoming-wrapper">\n            <ul class="upcoming-list">\n              <li class="upcoming-item-pop">\n                <p class="upcoming-subject">Popularity</p>\n              </li>\n              <li class="upcoming-item-pop-num">\n                <p class="upcoming-famous">${s.toFixed(1)}</p>\n              </li>\n            </ul>\n    \n            <ul class="upcoming-list">\n              <li class="upcoming-item-genre">\n                <p class="upcoming-subject">Genre</p>\n              </li>\n              <li class="upcoming-item-genre-num">\n                <p class="upcoming-janres">${p}</p>\n              </li>\n            </ul>\n          </div>\n        </div>\n    \n        <h3 class="upcoming-caption">About</h3>\n        <p class="upcoming-description">\n          ${i}\n        </p>\n        <div class="library-btn-upcoming" data-library-btn-upcoming>\n          ${l("btn btn-filled",u)}\n        </div>\n      </div>\n    </div>`}var u=i("7m44f");function p(n,e,t){(0,u.removeMovieFromLibrary)(t);const i=document.querySelector("[data-library-btn-upcoming]"),s=l(n,e);i.innerHTML=s;document.querySelector("[data-add-to-library-btn-upcoming]").addEventListener("click",(()=>{g(n,e,t)}),{once:!0})}var m=i("icwvE");function g(n,e,t){(0,m.addMovieToLibrary)(t);const i=document.querySelector("[data-library-btn-upcoming]"),s=l(n,e);i.innerHTML=s;document.querySelector("[data-remove-from-library-btn-upcoming]").addEventListener("click",(()=>{p(n,e,t)}),{once:!0})}function b(n,e,t,i){if(n){document.querySelector("[data-add-to-library-btn-upcoming]").addEventListener("click",(()=>{g(e,t,i)}),{once:!0})}else{document.querySelector("[data-remove-from-library-btn-upcoming]").addEventListener("click",(()=>{p(e,t,i)}),{once:!0})}}const v=document.querySelector(".js-upcomming-cards"),y=document.querySelector(".js-upcomming-default");!async function(){try{const n=(await(0,s.fetchUpcomingThisMonth)()).results,e=n[Math.floor(Math.random()*n.length)],t=document.querySelector("[data-upcoming]");t.innerHTML=d(e);const i=t.innerHTML.includes("Add to library");b(i,"btn btn-filled",e.id,e)}catch(n){if(console.error(n.message),v.classList.add("visually-hidden"),y.setAttribute("data-shown",!0),"true"===w.getAttribute("data-shown"))return void(w.lastElementChild.textContent="We don’t have any results.");y.classList.remove("visually-hidden")}}();const f=document.querySelector("[data-weekly-trends-list]"),h=document.querySelector(".js-weekly-trends-cards"),w=document.querySelector(".js-weekly-trends-default"),$=window.innerWidth<768?1:3;!async function(){try{const n=(await(0,s.fetchWeekTrends)()).results.slice(0,$),e=n.map((({genre_ids:n,id:e,poster_path:t,release_date:i,title:s,vote_average:r,genres:c})=>{const l=i.slice(0,4),d=(0,a.generateRatingStarsMarkup)(r);return`<li class="cards-item">\n                  <button type="button" class="btn cards-item-btn">\n                    ${t?`<img\n        class="movie-details-img"\n        src="https://image.tmdb.org/t/p/w500${t}"\n        alt="${s}"\n      />`:'<picture>\n        <source srcset="/src/images/image-not-found.webp" type="image/webp" />\n        <source srcset="/src/images/image-not-found.jpg" type="image/jpeg" />\n        <img\n          class="movie-details-img"\n          src="/src/images/image-not-found.jpg"\n          alt="Image not found"\n        />\n      </picture>'}\n                    <div class="cards-content" id="${e}">\n                      <div class="cards-text-content">\n                        <h3 class="cards-title">${s}</h3>\n                        <p class="cards-text">${n?(0,o.getGenresByGenresId)(n).join(", "):c.map((n=>n.name)).join(", ")} | ${l}</p>\n                      </div>\n                      <div class="rating-stars-wrapper">${d}\n                      </div>\n                    </div>\n                  </button>\n                </li>`})).join("");f.innerHTML=e,f.addEventListener("click",(n=>{c(n)}))}catch(n){if(console.error(n.message),h.classList.add("visually-hidden"),w.setAttribute("data-shown",!0),"true"===y.getAttribute("data-shown"))return void(y.lastElementChild.textContent="We don’t have any results.");w.classList.remove("visually-hidden")}}(),i("epHO8"),(0,i("aSB85").setGenresToSS)();document.querySelectorAll("[data-header-home]").forEach((n=>n.classList.add("js-current")));
//# sourceMappingURL=index.4cba5c10.js.map
